## java基本数据类型 + 自动拆装箱

#### 1.  Java中有几种基本数据类型，如何分类的？String是基本数据类型吗？

- Java中有8种基本数据类型 分为三大类。 
  - 字符型：char 
  - 布尔型：boolean 
  - 数值型：
    1. 整型：byte、short、int、long
    2. 浮点型：float、double 
- String不是基本数据类型，是引用类型。 

#### 2. 整型的几种中，各个类型的取值范围是多少，如何计算的？超出范围会发生什么？

- byte：byte用1个字节来存储，范围为-128(-2^7)到127(2^7-1)，默认为0
- short：short用2个字节存储，范围为-32,768 (-2^15)到32,767 (2^15-1)，默认值为0，一般情况下，因为Java本身转型的原因，可以直接写为0。 
- int：int用4个字节存储，范围为-2,147,483,648 (-2^31)到2,147,483,647 (2^31-1)，默认值为0。 
- long：long用8个字节存储，范围为-9,223,372,036,854,775,808 (-2^63)到9,223,372,036, 854,775,807 (2^63-1)，默认值为0L或0l，也可直接写为0。 
- 超出范围就会溢出，不会抛异常，没有提示，一定要注意溢出问题。

#### 3. 什么是浮点型。什么是单精度和双精度。为什么代码中不要用浮点数表示金额。

- 浮点型：

  ​	在计算机科学中，浮点是一种对于实数的近似值数值表现法，由一个有效数字（即尾数）加上幂数来表示，通常是乘以某个基数的整数次指数得到。以这种表示法表示的数值，称为浮点数（floating-point number） 

- 单精度和双精度

  ​	位（bit）是衡量浮点数所需存储空间的单位，通常为32位或64位，分别被叫作单精度和双精度。 

- 为什么代码中不要用浮点数表示金额。 

  ​	由于前面说过，计算机中保存的小数其实是十进制的小数的近似值，并不是准确值，所以，千万不要在代码中使用浮点数来表示金额等重要的指标。 建议使用BigDecimal或者Long（单位为分）来表示金额。

#### 4. Java中的char是否可以存储中文字符？

​	Java中的char存储占2个字节。中文使用unicode编码，同样占两个字节。只要在unicode编码中有的中文，即可以用char存储。除了一下生僻字和特殊字之外。 

#### 5. int和Integer，boolean和Boolean等，之间有什么区别。

1. 默认值不同，基本类型的默认值为0, false或\u0000，包装类默认为null 
2. 初始化不同，一个需要new,一个不需要 
3. 存储方式不同 
4. int.class是原始类型，Integer.class是对象类型, 所以一个有成员变量和方法，一个没有。 

- 包装类就是把基本类型 「包装」 在一个类里，并提供一些常用的操作。毕竟面向对象。

#### 6.  什么是自动拆箱、什么是自动装箱。

​	自动装箱就是Java自动将原始类型值转换成对应的对象，比如将int的变量转换成Integer对象，这个过程叫做装箱， 反之将Integer对象转换成int类型值，这个过程叫做拆箱。 	

​	装箱过程是通过调用包装器的valueOf方法实现的，而拆箱过程是通过调用包装器的 xxxValue方法实现的。

#### 7. Integer的缓存机制

- 在Java 5中，在Integer的操作上引入了一个新功能来节省内存和提高性能。整型对象通过使用相同的对象引用实现了缓存和重用。 

- 适用于整数值区间-128 至 +127。

  只适用于自动装箱。使用构造函数创建对象不适用。

- 在创建对象之前先从IntegerCache.cache中寻找。如果没找到才使用new新建对象。 

- 这种缓存行为不仅适用于Integer对象。我们针对所有的整数类型的类都有类似的缓存机制。

  > 有ByteCache用于缓存Byte对象
  >
  > 有ShortCache用于缓存Short对象
  >
  > 有LongCache用于缓存Long对象
  >
  > 有CharacterCache用于缓存Character对象

  `Byte`, `Short`, `Long`有固定范围: -128 到 127。对于`Character`, 范围是 0 到 127。除了`Integer`以外，这个范围都不能改变。

#### 8. 在Java的代码中以及数据库存储中，如何对金额进行表示和计算

​	一般有两种方案。

1. 以元为单位。Java中存储类型为BigDecimal，数据库中存储类型为number（10，2）。计算过程中保留两位小数，可考虑四舍五入或者向上或者向下取整。根据业务实际情况决定。 
2. 以分为单位。Java中存储类型为Long，数据库中存储类型为big int。计算过程中保留整数，考虑四舍五入或者取整。 