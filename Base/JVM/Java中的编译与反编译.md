## Java中的编译与反编译 

#### 1. 什么是编译和反编译

- 编译：高级语言转换成低级语言
- 反编译：低级语言转换成高级语言，在java编译中指class文件转换为java文件

#### 2. Java如何编译代码 

- java的前端编译用javac编译（对代码没有优化效果）
- javac前端编译过程：
  1. 词法分析：将源代码的字符转变为标记（Token）集合
  2. 语法分析：将Token序列构造成有语法结构的形式（例如：包，类型，修饰符，运算符等）
  3. 语义分析：对 结构上正确的源代码进行上下文有关性质的检查
     1. 标注检查：检查变量使用前是否已经被声明，变量与赋值之间的数据类型是否匹配等
     2. 数据及控制流分析：上下文逻辑的进一步验证
     3. 解语法糖
     4. 字节码生成：把前面个步骤生成的信息转化为字节码写到磁盘，还进行少量的代码添加和转换的工作
- java的后端编译（对代码进行优化）
  - 即时编译器：JIT
  - 解释器

#### 3. 如何反编译代码

- 工具：javap**、**jad和cfr

- javap：将class文件转换成为一种我们可以看懂的字节码

- jad：命令：jad + class文件名 + .class

  ​	 会将class文件转换为java代码

- cfr：可以class文件转换为java代码，不同参数反编译结果不同（有很多参数）

#### 4. 如何防止反编译

> - 隔离java程序，让用户接触不到class文件
> - 对class文件进行加密，提高破解难度
> - 代码混淆，将代码转换成功能上等价，但是难以阅读和理解的形式

